倒杯口问题

**现象：**

在打印过程中，随着打印模型轮廓不断生成，当达到一个临界位置，从此层开始，成型平台运动到接近料盘的指定层厚时，此时曝光，液态树脂变成固体后，打印的模型和料盘表面形成密封腔体

要打印的模型：

![image-20220422170302644](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220422170302644.png)

![image-20220422170117534](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220422170117534.png)

过程：

![image-20220422170221683](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220422170221683.png)

![image-20220422170416157](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220422170416157.png)

![image-20220422170439644](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220422170439644.png)

此时中心的腔体和料盘就会组成密封腔体



**导致的问题：**

Stefan公式：两个平行固体圆盘在液体中相对移动的受力情况

![image-20220424111134295](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220424111134295.png)



$\eta$：粘度

$R$：圆盘半径

$h$：距离高度

$dh/dt$：移动速度


$$
F \propto \frac{\eta R^4} {h^3} \frac{dh}{dt}
$$


```mermaid
graph TD
'倒杯口现象'模型:更难排走液体树脂 --> 等效于液体粘度增大
等效于液体粘度增大 --> 液体中运动的压力增大
液体中运动的压力增大 --> 料盘更易下移
料盘更易下移 --> 更长时间等待料盘回位
料盘更易下移 --> 料盘回位带动树脂流动 

```

打印模型出现倒杯口现象后，此时当模型向下运动，产生这种现象的模型相比不产生这种现象的模型更难将树脂液体排走，等效于液体的粘度增大，此时液体对料盘的作用力会增大，更容易压动料盘下移，从而在曝光前需要更长的等待时间等待料盘上移至指定打印层厚，若此时就曝光，就会导致层厚偏厚。同时，料盘上移又会带动树脂流动，流动的树脂也需要等待时间达到稳定静止状态，如若在树脂未达到稳定静置状态曝光，打印出来的模型表面质量会明显变差。



不仅仅是出现倒杯口现象的模型，任何模型，增加了平台在树脂中的运动时产生的压力，而等待时间又不够的话，都会对打印件表面质量造成影响



**解决办法：**

- 减弱平台在树脂中运动产生的压力
- 增加树脂恢复稳定的时间





- 减弱平台在树脂中运动产生的压力
  - 降低粘度（1. 换低粘度树脂；2. 促进排液——模型开孔）
  - 减小模型接触半径（1. 小尺寸模型；2. 整版模型个数减少）
  - 降低平台运动速度



- 增加树脂恢复稳定的时间
  - 增加等待时间















































满版全颌面实心牙模打孔后的力值曲线

![image-20220425192050554](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220425192050554.png)

6.313/0.05 = 126层

![image-20220425192147215](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220425192147215.png)

12.851/0.05 = 257层

126-257层出现倒杯口

![image-20220426110909137](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220426110909137.png) 



满版全颌面牙模，未打孔，存在倒杯口效应

第200层

```c++
[2022-04-25 16:27:38.149] [TRACE] [ProjectCtrl] [exposure][time]: 1562
[2022-04-25 16:27:38.149] [TRACE] [Projector] LedOff
[2022-04-25 16:27:38.150] [TRACE] [Ddp442x] setLedOnOff
[2022-04-25 16:27:38.150] [TRACE] [Ddp442xApi] GpioOpen
[2022-04-25 16:27:38.150] [TRACE] [Ddp442xApi] OpenWithRetry interfacenum: 2 , pre2retry: 3
[2022-04-25 16:27:38.150] [TRACE] SetLedOnOff
[2022-04-25 16:27:38.151] [TRACE] [ProjectorInterface] close_led success
[2022-04-25 16:27:38.151] [DEBUG] [Projector] LedOff result: no support
[2022-04-25 16:27:38.204] [DEBUG] begin SyncPeel
[2022-04-25 16:27:38.204] [TRACE] OnEnviromentCheck 57 data: QMap(("Projector", QVariant(bool, true))("Screen", QVariant(bool, true)))
[2022-04-25 16:27:38.204] [TRACE] - 200 - [exposure][time] 1619 [exposure][offset time] 119
[2022-04-25 16:27:38.205] [TRACE] command: "ac100118ff00000400000001d227acdc"
[2022-04-25 16:27:38.205] [DEBUG] [ "4K实心全颌面牙模S.ult" ] step: PrintCtrl::PrintStep(Peeling)
[2022-04-25 16:27:38.240] [DEBUG] NotifyComm 通訊返回 "ac100118ff00000400000001d227acdc"
[2022-04-25 16:27:38.313] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-42.70"
[2022-04-25 16:27:38.514] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "52.40"
[2022-04-25 16:27:43.068] [TRACE] slave:
[2022-04-25 16:27:43.069] [TRACE] 	 |--- plateform: 1
[2022-04-25 16:27:43.069] [TRACE] 	 |--- force: -0.7
[2022-04-25 16:27:43.069] [TRACE] 	 |--- temp: 26.1
[2022-04-25 16:27:43.069] [TRACE] 	 |--- humidity: 66.61
[2022-04-25 16:27:43.069] [TRACE] heaint:
[2022-04-25 16:27:43.069] [TRACE] 	 |--- temp: 24.93
[2022-04-25 16:27:43.118] [TRACE] PublishMsgProcess 675 msgkey: "1002"
[2022-04-25 16:27:43.571] [WARN] QModbusDevice::Error(TimeoutError) "Response timeout."
[2022-04-25 16:27:49.634] [TRACE] exe result: "ZAXIS->SEGMENTED_MOTION" "COMMAND_SUCCESS"
[2022-04-25 16:27:49.635] [DEBUG] end SyncPeel
[2022-04-25 16:27:49.635] [TRACE] Escape 0 1376520
[2022-04-25 16:27:49.635] [DEBUG] begin SyncPeel
[2022-04-25 16:27:49.636] [TRACE] command: "ac100118ff00000400000002d367acdc"
[2022-04-25 16:27:49.654] [DEBUG] discard slave return result 
[2022-04-25 16:27:49.672] [DEBUG] discard slave return result 
[2022-04-25 16:27:49.691] [DEBUG] NotifyComm 通訊返回 "ac100118ff00000400000002d367acdc"
[2022-04-25 16:27:51.713] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-10.50"
[2022-04-25 16:27:51.813] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-7.10"
[2022-04-25 16:27:52.113] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-11.70"
[2022-04-25 16:27:52.313] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-7.00"
[2022-04-25 16:27:52.813] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-11.60"
[2022-04-25 16:27:53.068] [TRACE] slave:
[2022-04-25 16:27:53.068] [TRACE] 	 |--- force: -16.5
[2022-04-25 16:27:53.068] [TRACE] 	 |--- temp: 26.13
[2022-04-25 16:27:53.069] [TRACE] 	 |--- humidity: 66.67
[2022-04-25 16:27:53.069] [TRACE] heaint:
[2022-04-25 16:27:53.069] [TRACE] 	 |--- temp: 24.52
[2022-04-25 16:27:53.136] [TRACE] PublishMsgProcess 675 msgkey: "1002"
[2022-04-25 16:27:54.775] [TRACE] exe result: "ZAXIS->SEGMENTED_MOTION" "COMMAND_SUCCESS"
[2022-04-25 16:27:54.775] [DEBUG] end SyncPeel
[2022-04-25 16:27:54.776] [TRACE] Escape 0 1376520
[2022-04-25 16:27:54.777] [TRACE] [PrintCtrl] peel up: Curlayer: 200 Number: "13"
[2022-04-25 16:27:54.778] [TRACE] [PrintCtrl] speed[0]: 600, distance[0]: 1200
[2022-04-25 16:27:54.779] [TRACE] [PrintCtrl] speed[1]: 300, distance[1]: 3400
[2022-04-25 16:27:54.780] [TRACE] [PrintCtrl] speed[2]: 2000, distance[2]: 4400
[2022-04-25 16:27:54.780] [TRACE] [PrintCtrl] speed[3]: 6000, distance[3]: 12900
[2022-04-25 16:27:54.781] [TRACE] [PrintCtrl] speed[4]: 6000, distance[4]: 12900
[2022-04-25 16:27:54.781] [TRACE] [PrintCtrl] peel down: Curlayer: 200 Number: "13"
[2022-04-25 16:27:54.781] [TRACE] [PrintCtrl] speed[0]: 6000, distance[0]: -8850
[2022-04-25 16:27:54.782] [TRACE] [PrintCtrl] speed[1]: 4000, distance[1]: -10850
[2022-04-25 16:27:54.782] [TRACE] [PrintCtrl] speed[2]: 2000, distance[2]: -11850
[2022-04-25 16:27:54.783] [TRACE] [PrintCtrl] speed[3]: 500, distance[3]: -12650
[2022-04-25 16:27:54.783] [TRACE] [PrintCtrl] speed[4]: 200, distance[4]: -12850
[2022-04-25 16:27:54.783] [TRACE] - 200 - [peel][time] 16573 [peel][offset time] 249
[2022-04-25 16:27:54.784] [DEBUG] [ "4K实心全颌面牙模S.ult" ] step: PrintCtrl::PrintStep(Waiting)
[2022-04-25 16:27:54.838] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-1 ZR-0 ZZ-1 ZP-0 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-100.80"
[2022-04-25 16:27:55.571] [WARN] QModbusDevice::Error(TimeoutError) "Response timeout."
[2022-04-25 16:28:03.068] [TRACE] slave:
[2022-04-25 16:28:03.068] [TRACE] 	 |--- plateform: -1
[2022-04-25 16:28:03.068] [TRACE] 	 |--- force: -44.3
[2022-04-25 16:28:03.068] [TRACE] 	 |--- temp: 26.17
[2022-04-25 16:28:03.068] [TRACE] 	 |--- humidity: 66.82
[2022-04-25 16:28:03.068] [TRACE] heaint:
[2022-04-25 16:28:03.068] [TRACE] 	 |--- temp: 24.93
[2022-04-25 16:28:03.151] [TRACE] PublishMsgProcess 675 msgkey: "1002"
[2022-04-25 16:28:04.277] [TRACE] - 200 - [wait][time] 9500 [wait][offset time] 0
[2022-04-25 16:28:04.278] [TRACE]  ====== Begin Read Model  201 `th Loop ====== 
[2022-04-25 16:28:04.278] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer done
[2022-04-25 16:28:04.278] [TRACE] UpdateTimecost >>>  3107097 8937 -315  remain layers:  331
[2022-04-25 16:28:04.278] [DEBUG] ReadModel 291
[2022-04-25 16:28:04.279] [DEBUG] the buffer is not Empty
[2022-04-25 16:28:04.279] [DEBUG] [ "4K实心全颌面牙模S.ult" ] step: PrintCtrl::PrintStep(Preprocessing)
[2022-04-25 16:28:04.279] [DEBUG] Read Model Parser Finished!
```

![image-20220425190347313](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220425190347313.png)



126-257层：

```c++
	行 54926: [2022-04-25 15:55:03.036] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 126 / 531
	行 55054: [2022-04-25 15:55:30.788] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 127 / 531
	行 55181: [2022-04-25 15:55:51.093] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 128 / 531
	行 55309: [2022-04-25 15:56:18.784] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 129 / 531
	行 55441: [2022-04-25 15:56:46.486] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 130 / 531
	行 55567: [2022-04-25 15:57:14.184] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 131 / 531
	行 55690: [2022-04-25 15:57:41.884] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 132 / 531
	行 55819: [2022-04-25 15:58:09.618] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 133 / 531
	行 55954: [2022-04-25 15:58:37.297] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 134 / 531
	行 56090: [2022-04-25 15:59:04.984] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 135 / 531
	行 56210: [2022-04-25 15:59:32.682] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 136 / 531
	行 56338: [2022-04-25 16:00:00.382] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 137 / 531
	行 56474: [2022-04-25 16:00:28.081] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 138 / 531
	行 56605: [2022-04-25 16:00:55.783] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 139 / 531
	行 56738: [2022-04-25 16:01:23.480] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 140 / 531
	行 56865: [2022-04-25 16:01:51.147] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 141 / 531
	行 56997: [2022-04-25 16:02:18.817] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 142 / 531
	行 57130: [2022-04-25 16:02:46.496] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 143 / 531
	行 57263: [2022-04-25 16:03:14.183] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 144 / 531
	行 57397: [2022-04-25 16:03:41.879] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 145 / 531
	行 57525: [2022-04-25 16:04:09.613] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 146 / 531
	行 57648: [2022-04-25 16:04:29.929] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 147 / 531
	行 57780: [2022-04-25 16:04:57.613] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 148 / 531
	行 57918: [2022-04-25 16:05:25.299] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 149 / 531
	行 58040: [2022-04-25 16:05:52.997] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 150 / 531
	行 58170: [2022-04-25 16:06:20.677] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 151 / 531
	行 58305: [2022-04-25 16:06:48.346] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 152 / 531
	行 58432: [2022-04-25 16:07:08.666] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 153 / 531
	行 58556: [2022-04-25 16:07:28.976] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 154 / 531
	行 58682: [2022-04-25 16:07:49.313] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 155 / 531
	行 58809: [2022-04-25 16:08:17.011] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 156 / 531
	行 58945: [2022-04-25 16:08:44.770] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 157 / 531
	行 59070: [2022-04-25 16:09:05.094] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 158 / 531
	行 59195: [2022-04-25 16:09:25.409] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 159 / 531
	行 59328: [2022-04-25 16:09:53.112] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 160 / 531
	行 59448: [2022-04-25 16:10:20.809] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 161 / 531
	行 59580: [2022-04-25 16:10:48.509] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 162 / 531
	行 59704: [2022-04-25 16:11:08.809] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 163 / 531
	行 59834: [2022-04-25 16:11:36.508] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 164 / 531
	行 59961: [2022-04-25 16:12:04.206] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 165 / 531
	行 60089: [2022-04-25 16:12:31.907] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 166 / 531
	行 60220: [2022-04-25 16:12:59.604] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 167 / 531
	行 60351: [2022-04-25 16:13:27.275] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 168 / 531
	行 60486: [2022-04-25 16:13:54.959] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 169 / 531
	行 60613: [2022-04-25 16:14:22.657] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 170 / 531
	行 60747: [2022-04-25 16:14:50.301] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 171 / 531
	行 60874: [2022-04-25 16:15:10.626] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 172 / 531
	行 60996: [2022-04-25 16:15:38.298] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 173 / 531
	行 61128: [2022-04-25 16:16:05.998] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 174 / 531
	行 61264: [2022-04-25 16:16:33.756] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 175 / 531
	行 61391: [2022-04-25 16:17:01.454] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 176 / 531
	行 61524: [2022-04-25 16:17:29.155] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 177 / 531
	行 61658: [2022-04-25 16:17:56.855] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 178 / 531
	行 61795: [2022-04-25 16:18:24.594] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 179 / 531
	行 61916: [2022-04-25 16:18:52.260] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 180 / 531
	行 62055: [2022-04-25 16:19:19.955] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 181 / 531
	行 62188: [2022-04-25 16:19:47.651] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 182 / 531
	行 62320: [2022-04-25 16:20:15.309] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 183 / 531
	行 62444: [2022-04-25 16:20:35.603] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 184 / 531
	行 62573: [2022-04-25 16:21:03.288] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 185 / 531
	行 62702: [2022-04-25 16:21:30.968] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 186 / 531
	行 62827: [2022-04-25 16:21:51.290] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 187 / 531
	行 62956: [2022-04-25 16:22:18.986] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 188 / 531
	行 63090: [2022-04-25 16:22:46.666] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 189 / 531
	行 63224: [2022-04-25 16:23:14.349] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 190 / 531
	行 63349: [2022-04-25 16:23:34.648] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 191 / 531
	行 63474: [2022-04-25 16:24:02.340] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 192 / 531
	行 63606: [2022-04-25 16:24:30.048] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 193 / 531
	行 63737: [2022-04-25 16:24:57.740] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 194 / 531
	行 63864: [2022-04-25 16:25:25.440] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 195 / 531
	行 63995: [2022-04-25 16:25:53.139] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 196 / 531
	行 64120: [2022-04-25 16:26:20.814] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 197 / 531
	行 64254: [2022-04-25 16:26:48.514] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 198 / 531
	行 64388: [2022-04-25 16:27:16.213] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 199 / 531
	行 64512: [2022-04-25 16:27:36.585] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 200 / 531
	行 64645: [2022-04-25 16:28:04.281] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 201 / 531
	行 64764: [2022-04-25 16:28:31.982] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 202 / 531
	行 64896: [2022-04-25 16:28:59.732] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 203 / 531
	行 65028: [2022-04-25 16:29:27.436] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 204 / 531
	行 65161: [2022-04-25 16:29:55.133] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 205 / 531
	行 65287: [2022-04-25 16:30:22.785] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 206 / 531
	行 65415: [2022-04-25 16:30:43.098] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 207 / 531
	行 65541: [2022-04-25 16:31:10.778] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 208 / 531
	行 65665: [2022-04-25 16:31:31.082] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 209 / 531
	行 65783: [2022-04-25 16:31:51.383] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 210 / 531
	行 65915: [2022-04-25 16:32:19.082] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 211 / 531
	行 66045: [2022-04-25 16:32:46.789] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 212 / 531
	行 66177: [2022-04-25 16:33:14.495] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 213 / 531
	行 66298: [2022-04-25 16:33:42.168] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 214 / 531
	行 66425: [2022-04-25 16:34:09.882] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 215 / 531
	行 66556: [2022-04-25 16:34:37.568] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 216 / 531
	行 66686: [2022-04-25 16:35:05.234] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 217 / 531
	行 66811: [2022-04-25 16:35:25.562] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 218 / 531
	行 66936: [2022-04-25 16:35:45.866] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 219 / 531
	行 67066: [2022-04-25 16:36:13.559] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 220 / 531
	行 67192: [2022-04-25 16:36:33.878] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 221 / 531
	行 67310: [2022-04-25 16:36:54.181] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 222 / 531
	行 67440: [2022-04-25 16:37:21.895] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 223 / 531
	行 67563: [2022-04-25 16:37:49.577] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 224 / 531
	行 67694: [2022-04-25 16:38:17.264] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 225 / 531
	行 67815: [2022-04-25 16:38:37.559] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 226 / 531
	行 67943: [2022-04-25 16:38:57.862] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 227 / 531
	行 68057: [2022-04-25 16:39:18.161] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 228 / 531
	行 68191: [2022-04-25 16:39:45.843] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 229 / 531
	行 68321: [2022-04-25 16:40:13.559] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 230 / 531
	行 68443: [2022-04-25 16:40:41.261] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 231 / 531
	行 68574: [2022-04-25 16:41:08.940] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 232 / 531
	行 68704: [2022-04-25 16:41:36.711] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 233 / 531
	行 68834: [2022-04-25 16:42:04.363] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 234 / 531
	行 68959: [2022-04-25 16:42:32.057] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 235 / 531
	行 69087: [2022-04-25 16:42:59.728] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 236 / 531
	行 69226: [2022-04-25 16:43:27.389] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 237 / 531
	行 69363: [2022-04-25 16:43:55.060] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 238 / 531
	行 69484: [2022-04-25 16:44:22.756] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 239 / 531
	行 69609: [2022-04-25 16:44:43.074] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 240 / 531
	行 69733: [2022-04-25 16:45:10.751] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 241 / 531
	行 69861: [2022-04-25 16:45:38.453] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 242 / 531
	行 69990: [2022-04-25 16:46:06.154] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 243 / 531
	行 70114: [2022-04-25 16:46:26.445] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 244 / 531
	行 70242: [2022-04-25 16:46:54.148] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 245 / 531
	行 70364: [2022-04-25 16:47:21.844] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 246 / 531
	行 70496: [2022-04-25 16:47:49.546] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 247 / 531
	行 70623: [2022-04-25 16:48:17.244] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 248 / 531
	行 70753: [2022-04-25 16:48:44.943] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 249 / 531
	行 70877: [2022-04-25 16:49:12.705] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 250 / 531
	行 71015: [2022-04-25 16:49:40.402] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 251 / 531
	行 71145: [2022-04-25 16:50:08.064] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 252 / 531
	行 71269: [2022-04-25 16:50:28.353] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 253 / 531
	行 71399: [2022-04-25 16:50:43.636] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 254 / 531
	行 71507: [2022-04-25 16:50:58.616] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 255 / 531
	行 71630: [2022-04-25 16:51:13.603] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 256 / 531
	行 71745: [2022-04-25 16:51:28.567] [DEBUG] [ "4K实心全颌面牙模S.ult" ] layer start: 257 / 531
```

![image-20220426104822868](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220426104822868.png)



![image-20220426104905895](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220426104905895.png)



打孔后去除倒杯口效应

使用波哥M值工艺包只增加了前几段等待时间后的工艺包（用来研究增加等待时间对精度影响的工艺包）

```c++
{
                "MLowerLimit": 90,
                "MUpperLimit": 160,
                "Number": 13,
                "WaitTime": 9500,
                "Z_AxisUp": [
                    { "v": 600, "s": 1200 },
                    { "v": 300, "s": 3400 },
                    { "v": 2000, "s": 4400 },
                    { "v": 6000, "s": 12900 },
                    { "v": 6000, "s": 12900 }
                ],
                "Z_AxisDown": [
                    { "v": 6000, "s": -8850 },
                    { "v": 4000, "s": -10850 },
                    { "v": 2000, "s": -11850 },
                    { "v": 500, "s": -12650 },
                    { "v": 200, "s": -12850 }
                ]
            },
```



```c++
[2022-04-14 10:57:16.209] [TRACE] OnEnviromentCheck 57 data: QMap(("Projector", QVariant(bool, true))("Screen", QVariant(bool, true)))
[2022-04-14 10:57:16.209] [TRACE] - 200 - [exposure][time] 1622 [exposure][offset time] 122
[2022-04-14 10:57:16.210] [DEBUG] begin SyncPeel
[2022-04-14 10:57:16.210] [DEBUG] [ "实心全颌面S-打孔.ult" ] step: PrintCtrl::PrintStep(Peeling)
[2022-04-14 10:57:16.210] [TRACE] command: "ac100118ff00000400000001d227acdc"
[2022-04-14 10:57:16.246] [DEBUG] NotifyComm 通訊返回 "ac100118ff00000400000001d227acdc"
[2022-04-14 10:57:16.273] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-1 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-12.00"
[2022-04-14 10:57:16.362] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "13.20"
[2022-04-14 10:57:17.634] [WARN] QModbusDevice::Error(TimeoutError) "Response timeout."
[2022-04-14 10:57:18.634] [TRACE] slave:
[2022-04-14 10:57:18.635] [TRACE] 	 |--- plateform: 1
[2022-04-14 10:57:18.635] [TRACE] 	 |--- force: -0.1
[2022-04-14 10:57:18.635] [TRACE] 	 |--- temp: 23.83
[2022-04-14 10:57:18.636] [TRACE] 	 |--- humidity: 62.04
[2022-04-14 10:57:18.637] [TRACE] heaint:
[2022-04-14 10:57:18.638] [TRACE] 	 |--- temp: 22.43
[2022-04-14 10:57:18.670] [TRACE] PublishMsgProcess 675 msgkey: "1002"
[2022-04-14 10:57:27.645] [TRACE] exe result: "ZAXIS->SEGMENTED_MOTION" "COMMAND_SUCCESS"
[2022-04-14 10:57:27.645] [DEBUG] end SyncPeel
[2022-04-14 10:57:27.646] [TRACE] Escape 0 1376520
[2022-04-14 10:57:27.646] [DEBUG] begin SyncPeel
[2022-04-14 10:57:27.646] [TRACE] command: "ac100118ff00000400000002d367acdc"
[2022-04-14 10:57:27.665] [DEBUG] discard slave return result 
[2022-04-14 10:57:27.684] [DEBUG] discard slave return result 
[2022-04-14 10:57:27.702] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-1 ZR-0 ZZ-1 ZP-0 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "3.70"
[2022-04-14 10:57:27.720] [DEBUG] NotifyComm 通訊返回 "ac100118ff00000400000002d367acdc"
[2022-04-14 10:57:27.761] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "3.00"
[2022-04-14 10:57:28.633] [TRACE] slave:
[2022-04-14 10:57:28.635] [TRACE] 	 |--- force: 1.7
[2022-04-14 10:57:28.635] [TRACE] 	 |--- temp: 23.81
[2022-04-14 10:57:28.636] [TRACE] 	 |--- humidity: 61.97
[2022-04-14 10:57:28.637] [TRACE] heaint:
[2022-04-14 10:57:28.637] [TRACE] 	 |--- temp: 22.51
[2022-04-14 10:57:28.687] [TRACE] PublishMsgProcess 675 msgkey: "1002"
[2022-04-14 10:57:29.635] [WARN] QModbusDevice::Error(TimeoutError) "Response timeout."
[2022-04-14 10:57:29.661] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-10.20"
[2022-04-14 10:57:29.761] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-6.90"
[2022-04-14 10:57:30.161] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-11.50"
[2022-04-14 10:57:30.361] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-5.80"
[2022-04-14 10:57:31.161] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-10.60"
[2022-04-14 10:57:32.784] [TRACE] exe result: "ZAXIS->SEGMENTED_MOTION" "COMMAND_SUCCESS"
[2022-04-14 10:57:32.785] [DEBUG] end SyncPeel
[2022-04-14 10:57:32.786] [TRACE] Escape 0 1376520
[2022-04-14 10:57:32.786] [TRACE] [PrintCtrl] peel up: Curlayer: 200 Number: "13"
[2022-04-14 10:57:32.786] [TRACE] [PrintCtrl] speed[0]: 600, distance[0]: 1200
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] speed[1]: 300, distance[1]: 3400
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] speed[2]: 2000, distance[2]: 4400
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] speed[3]: 6000, distance[3]: 12900
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] speed[4]: 6000, distance[4]: 12900
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] peel down: Curlayer: 200 Number: "13"
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] speed[0]: 6000, distance[0]: -8850
[2022-04-14 10:57:32.787] [TRACE] [PrintCtrl] speed[1]: 4000, distance[1]: -10850
[2022-04-14 10:57:32.788] [TRACE] [PrintCtrl] speed[2]: 2000, distance[2]: -11850
[2022-04-14 10:57:32.788] [TRACE] [PrintCtrl] speed[3]: 500, distance[3]: -12650
[2022-04-14 10:57:32.788] [TRACE] [PrintCtrl] speed[4]: 200, distance[4]: -12850
[2022-04-14 10:57:32.788] [TRACE] - 200 - [peel][time] 16577 [peel][offset time] 253
[2022-04-14 10:57:32.788] [DEBUG] [ "实心全颌面S-打孔.ult" ] step: PrintCtrl::PrintStep(Waiting)
[2022-04-14 10:57:32.861] [TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-1 ZT-0 ZB-0 ZS-1 ZR-0 ZZ-1 ZP-0 CAU-1 CAL-0 CGU-1 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 ST-0 HES-1"  | F- "-66.50"
[2022-04-14 10:57:38.634] [TRACE] slave:
[2022-04-14 10:57:38.634] [TRACE] 	 |--- plateform: -1
[2022-04-14 10:57:38.635] [TRACE] 	 |--- force: -17.3
[2022-04-14 10:57:38.635] [TRACE] 	 |--- temp: 23.8
[2022-04-14 10:57:38.635] [TRACE] 	 |--- humidity: 62.04
[2022-04-14 10:57:38.635] [TRACE] heaint:
[2022-04-14 10:57:38.635] [TRACE] 	 |--- temp: 22.27
[2022-04-14 10:57:38.702] [TRACE] PublishMsgProcess 675 msgkey: "1002"
[2022-04-14 10:57:41.635] [WARN] QModbusDevice::Error(TimeoutError) "Response timeout."
[2022-04-14 10:57:42.286] [TRACE] - 200 - [wait][time] 9500 [wait][offset time] 0
[2022-04-14 10:57:42.286] [TRACE]  ====== Begin Read Model  201 `th Loop ====== 
[2022-04-14 10:57:42.286] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer done
[2022-04-14 10:57:42.286] [DEBUG] ReadModel 291
[2022-04-14 10:57:42.286] [TRACE] UpdateTimecost >>>  3087237 8937 -255  remain layers:  331
[2022-04-14 10:57:42.286] [DEBUG] the buffer is not Empty
[2022-04-14 10:57:42.286] [DEBUG] Read Model Parser Finished!
```



第200层的力曲线图

![image-20220425190438106](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220425190438106.png)



```c++
	行 40134: [2022-04-14 10:25:02.999] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 126 / 531
	行 40264: [2022-04-14 10:25:30.697] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 127 / 531
	行 40388: [2022-04-14 10:25:58.388] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 128 / 531
	行 40518: [2022-04-14 10:26:18.701] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 129 / 531
	行 40647: [2022-04-14 10:26:46.387] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 130 / 531
	行 40781: [2022-04-14 10:27:14.089] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 131 / 531
	行 40915: [2022-04-14 10:27:41.811] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 132 / 531
	行 41046: [2022-04-14 10:28:09.484] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 133 / 531
	行 41174: [2022-04-14 10:28:37.244] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 134 / 531
	行 41310: [2022-04-14 10:29:04.944] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 135 / 531
	行 41443: [2022-04-14 10:29:32.646] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 136 / 531
	行 41578: [2022-04-14 10:30:00.345] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 137 / 531
	行 41705: [2022-04-14 10:30:20.680] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 138 / 531
	行 41831: [2022-04-14 10:30:40.994] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 139 / 531
	行 41963: [2022-04-14 10:31:08.681] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 140 / 531
	行 42090: [2022-04-14 10:31:36.378] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 141 / 531
	行 42226: [2022-04-14 10:32:04.074] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 142 / 531
	行 42358: [2022-04-14 10:32:31.776] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 143 / 531
	行 42491: [2022-04-14 10:32:59.476] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 144 / 531
	行 42610: [2022-04-14 10:33:19.777] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 145 / 531
	行 42743: [2022-04-14 10:33:47.476] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 146 / 531
	行 42873: [2022-04-14 10:34:15.229] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 147 / 531
	行 43010: [2022-04-14 10:34:42.928] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 148 / 531
	行 43137: [2022-04-14 10:35:10.627] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 149 / 531
	行 43263: [2022-04-14 10:35:30.973] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 150 / 531
	行 43389: [2022-04-14 10:35:51.274] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 151 / 531
	行 43521: [2022-04-14 10:36:18.978] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 152 / 531
	行 43650: [2022-04-14 10:36:46.673] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 153 / 531
	行 43778: [2022-04-14 10:37:14.372] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 154 / 531
	行 43911: [2022-04-14 10:37:42.071] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 155 / 531
	行 44041: [2022-04-14 10:38:09.767] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 156 / 531
	行 44170: [2022-04-14 10:38:37.468] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 157 / 531
	行 44292: [2022-04-14 10:38:57.823] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 158 / 531
	行 44426: [2022-04-14 10:39:25.537] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 159 / 531
	行 44551: [2022-04-14 10:39:45.869] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 160 / 531
	行 44679: [2022-04-14 10:40:13.567] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 161 / 531
	行 44812: [2022-04-14 10:40:41.283] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 162 / 531
	行 44940: [2022-04-14 10:41:08.981] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 163 / 531
	行 45066: [2022-04-14 10:41:29.281] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 164 / 531
	行 45191: [2022-04-14 10:41:56.983] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 165 / 531
	行 45322: [2022-04-14 10:42:24.662] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 166 / 531
	行 45452: [2022-04-14 10:42:44.967] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 167 / 531
	行 45585: [2022-04-14 10:43:12.672] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 168 / 531
	行 45719: [2022-04-14 10:43:40.367] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 169 / 531
	行 45843: [2022-04-14 10:44:00.676] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 170 / 531
	行 45968: [2022-04-14 10:44:28.414] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 171 / 531
	行 46095: [2022-04-14 10:44:48.714] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 172 / 531
	行 46225: [2022-04-14 10:45:16.415] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 173 / 531
	行 46363: [2022-04-14 10:45:43.778] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 174 / 531
	行 46492: [2022-04-14 10:46:11.469] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 175 / 531
	行 46626: [2022-04-14 10:46:39.209] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 176 / 531
	行 46753: [2022-04-14 10:47:06.911] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 177 / 531
	行 46889: [2022-04-14 10:47:34.611] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 178 / 531
	行 47014: [2022-04-14 10:48:02.311] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 179 / 531
	行 47150: [2022-04-14 10:48:30.043] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 180 / 531
	行 47274: [2022-04-14 10:48:50.347] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 181 / 531
	行 47401: [2022-04-14 10:49:18.045] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 182 / 531
	行 47537: [2022-04-14 10:49:45.744] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 183 / 531
	行 47660: [2022-04-14 10:50:06.064] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 184 / 531
	行 47793: [2022-04-14 10:50:33.798] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 185 / 531
	行 47932: [2022-04-14 10:51:01.495] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 186 / 531
	行 48066: [2022-04-14 10:51:29.195] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 187 / 531
	行 48192: [2022-04-14 10:51:56.893] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 188 / 531
	行 48327: [2022-04-14 10:52:24.593] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 189 / 531
	行 48462: [2022-04-14 10:52:52.291] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 190 / 531
	行 48589: [2022-04-14 10:53:12.592] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 191 / 531
	行 48721: [2022-04-14 10:53:40.306] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 192 / 531
	行 48851: [2022-04-14 10:54:08.028] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 193 / 531
	行 48974: [2022-04-14 10:54:28.337] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 194 / 531
	行 49108: [2022-04-14 10:54:56.039] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 195 / 531
	行 49234: [2022-04-14 10:55:23.737] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 196 / 531
	行 49369: [2022-04-14 10:55:51.437] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 197 / 531
	行 49503: [2022-04-14 10:56:19.189] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 198 / 531
	行 49628: [2022-04-14 10:56:46.886] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 199 / 531
	行 49757: [2022-04-14 10:57:14.587] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 200 / 531
	行 49894: [2022-04-14 10:57:42.287] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 201 / 531
	行 50025: [2022-04-14 10:58:10.019] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 202 / 531
	行 50156: [2022-04-14 10:58:37.725] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 203 / 531
	行 50282: [2022-04-14 10:59:05.423] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 204 / 531
	行 50414: [2022-04-14 10:59:33.183] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 205 / 531
	行 50549: [2022-04-14 11:00:00.888] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 206 / 531
	行 50676: [2022-04-14 11:00:21.189] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 207 / 531
	行 50805: [2022-04-14 11:00:48.893] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 208 / 531
	行 50934: [2022-04-14 11:01:16.544] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 209 / 531
	行 51066: [2022-04-14 11:01:44.230] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 210 / 531
	行 51190: [2022-04-14 11:02:04.531] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 211 / 531
	行 51320: [2022-04-14 11:02:32.195] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 212 / 531
	行 51457: [2022-04-14 11:02:59.898] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 213 / 531
	行 51585: [2022-04-14 11:03:27.596] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 214 / 531
	行 51720: [2022-04-14 11:03:55.288] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 215 / 531
	行 51854: [2022-04-14 11:04:23.035] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 216 / 531
	行 51979: [2022-04-14 11:04:50.739] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 217 / 531
	行 52105: [2022-04-14 11:05:18.439] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 218 / 531
	行 52242: [2022-04-14 11:05:46.098] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 219 / 531
	行 52363: [2022-04-14 11:06:06.442] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 220 / 531
	行 52494: [2022-04-14 11:06:34.195] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 221 / 531
	行 52622: [2022-04-14 11:07:01.894] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 222 / 531
	行 52774: [2022-04-14 11:07:29.592] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 223 / 531
	行 52898: [2022-04-14 11:07:57.295] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 224 / 531
	行 53027: [2022-04-14 11:08:25.029] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 225 / 531
	行 53157: [2022-04-14 11:08:45.348] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 226 / 531
	行 53281: [2022-04-14 11:09:05.698] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 227 / 531
	行 53417: [2022-04-14 11:09:33.394] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 228 / 531
	行 53549: [2022-04-14 11:10:01.097] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 229 / 531
	行 53679: [2022-04-14 11:10:28.795] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 230 / 531
	行 53806: [2022-04-14 11:10:56.496] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 231 / 531
	行 53940: [2022-04-14 11:11:24.198] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 232 / 531
	行 54070: [2022-04-14 11:11:51.896] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 233 / 531
	行 54197: [2022-04-14 11:12:19.562] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 234 / 531
	行 54322: [2022-04-14 11:12:47.240] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 235 / 531
	行 54452: [2022-04-14 11:13:14.936] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 236 / 531
	行 54584: [2022-04-14 11:13:42.637] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 237 / 531
	行 54713: [2022-04-14 11:14:10.337] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 238 / 531
	行 54839: [2022-04-14 11:14:38.035] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 239 / 531
	行 54974: [2022-04-14 11:15:05.737] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 240 / 531
	行 55109: [2022-04-14 11:15:33.400] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 241 / 531
	行 55242: [2022-04-14 11:16:01.100] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 242 / 531
	行 55372: [2022-04-14 11:16:28.796] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 243 / 531
	行 55498: [2022-04-14 11:16:56.501] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 244 / 531
	行 55625: [2022-04-14 11:17:24.189] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 245 / 531
	行 55760: [2022-04-14 11:17:51.890] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 246 / 531
	行 55892: [2022-04-14 11:18:19.590] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 247 / 531
	行 56017: [2022-04-14 11:18:47.289] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 248 / 531
	行 56153: [2022-04-14 11:19:15.036] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 249 / 531
	行 56272: [2022-04-14 11:19:35.335] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 250 / 531
	行 56400: [2022-04-14 11:19:55.688] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 251 / 531
	行 56535: [2022-04-14 11:20:23.389] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 252 / 531
	行 56667: [2022-04-14 11:20:51.088] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 253 / 531
	行 56783: [2022-04-14 11:21:06.405] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 254 / 531
	行 56905: [2022-04-14 11:21:21.396] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 255 / 531
	行 57020: [2022-04-14 11:21:36.355] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 256 / 531
	行 57139: [2022-04-14 11:21:51.316] [DEBUG] [ "实心全颌面S-打孔.ult" ] layer start: 257 / 531
```



![image-20220426110545340](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220426110545340.png)

![image-20220426110616426](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220426110616426.png)











LCD打印全颌面牙模

```c++
[2022-04-25][12:03:08.016][INFO] layer: 200 begin
[2022-04-25][12:03:08.021][DEBUG] the current is:  631
[2022-04-25][12:03:08.023][DEBUG] handle base and get ELayerImgType_Object
[2022-04-25][12:03:08.025][DEBUG] [ "20220425_0951.ult" ] layer start: 200 / 531
[2022-04-25][12:03:08.033][INFO] Preprocessing
[2022-04-25][12:03:08.036][TRACE] command: "ac102301ff00000101ac61acdc"
[2022-04-25][12:03:08.041][WARN] SendSyncLocalMsg 436 disconnect ultranet, donot publish intermediate state!
[2022-04-25][12:03:08.041][DEBUG] [ "20220425_0951.ult" ] step: PrintCtrl::Preprocessing
[2022-04-25][12:03:08.039][TRACE] ULT: other Layer
[2022-04-25][12:03:08.042][INFO] Exposuring
[2022-04-25][12:03:08.049][TRACE] exe result: "35->" "COMMAND_SUCCESS"
[2022-04-25][12:03:08.050][DEBUG] [ "20220425_0951.ult" ] step: PrintCtrl::Exposuring
[2022-04-25][12:03:08.052][DEBUG] src_mat fixed ... 1
[2022-04-25][12:03:08.053][INFO] paint screen
[2022-04-25][12:03:08.060][DEBUG] src_mat fixed ... 0 "/tmp/.A2DTemp/S000205_P1.png"
[2022-04-25][12:03:08.061][INFO] set current is ok
[2022-04-25][12:03:08.070][INFO] led on
[2022-04-25][12:03:08.205][DEBUG] bObjImg  true
[2022-04-25][12:03:08.212][DEBUG] wearhole scale  false
[2022-04-25][12:03:08.446][DEBUG] ZoomIn Success to transform the image: 5780 3613 1.0035 1.0035
[2022-04-25][12:03:08.459][DEBUG] ShapeAdjust completed ...
[2022-04-25][12:03:08.824][DEBUG] LCDConversion 350 input projecotr type: "pj623" 3600 5760
[2022-04-25][12:03:08.834][DEBUG] LCDConversion 363 projecotr type: "pj623" 3600 5760
[2022-04-25][12:03:09.862][TRACE] command: "ac102301ff000001006ca0acdc"
[2022-04-25][12:03:09.863][INFO] clear screen
[2022-04-25][12:03:09.873][TRACE] exe result: "35->" "COMMAND_SUCCESS"
[2022-04-25][12:03:09.885][DEBUG] begin SyncPeel
[2022-04-25][12:03:09.886][DEBUG] [ "20220425_0951.ult" ] step: PrintCtrl::Peeling
[2022-04-25][12:03:09.886][INFO] led off
[2022-04-25][12:03:09.891][TRACE] command: "ac100118ff00000400000001d227acdc"
[2022-04-25][12:03:09.886][TRACE] OnEnviromentCheck 56 data: QMap(("Projector", QVariant(bool, true))("Screen", QVariant(bool, true)))
[2022-04-25][12:03:09.895][INFO] Peeling
[2022-04-25][12:03:09.900][INFO] peel up (speed) params: [1000, 2000, 5000, 5000, 5000], (distance)params: [3000, 7000, 16000, 16000, 16000]
[2022-04-25][12:03:09.904][INFO] peel down (speed) params: [5000, 2000, 500, 500, 500], (distance)params: [-10000, -12000, -15950, -15950, -15950]
[2022-04-25][12:03:10.134][TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-0 ZR-0 ZZ-1 ZP-1 CAU-0 CAL-0 CGU-0 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 TS-0 SP2-0 ST-1 PID-0"  | F- "-31.69"  | lts- "-206"  | rts- "-169"  | lbs- "2841"  | rbs- "1861"
[2022-04-25][12:03:10.327][DEBUG] elecon_flag  true 1000 50 205
[2022-04-25][12:03:10.535][INFO] force: 5.23256
[2022-04-25][12:03:12.935][INFO] force: 61.78
[2022-04-25][12:03:13.735][INFO] force: 1.8407
[2022-04-25][12:03:16.785][TRACE] exe result: "ZAXIS->SEGMENTED_MOTION" "COMMAND_SUCCESS"
[2022-04-25][12:03:16.794][DEBUG] end SyncPeel
[2022-04-25][12:03:16.801][DEBUG] begin SyncPeel
[2022-04-25][12:03:16.807][TRACE] command: "ac100118ff00000400000002d367acdc"
[2022-04-25][12:03:27.335][INFO] force: -61.1663
[2022-04-25][12:03:27.736][INFO] force: -115.954
[2022-04-25][12:03:27.786][TRACE] exe result: "ZAXIS->SEGMENTED_MOTION" "COMMAND_SUCCESS"
[2022-04-25][12:03:27.793][DEBUG] end SyncPeel
[2022-04-25][12:03:27.799][INFO] Peeling result: COMMAND_SUCCESS
[2022-04-25][12:03:27.799][DEBUG] [ "20220425_0951.ult" ] step: PrintCtrl::Waiting
[2022-04-25][12:03:27.804][INFO] Waiting
[2022-04-25][12:03:27.810][INFO] wait 5000ms
[2022-04-25][12:03:28.135][TRACE] Slave State change:  "ES-0 OPR-0 OPL-0 NP-0 ZT-0 ZB-0 ZS-1 ZR-0 ZZ-1 ZP-0 CAU-0 CAL-0 CGU-0 CGD-0 TL-1 CAE-0 ZAE-0 SP-1 TS-0 SP2-0 ST-1 PID-0"  | F- "-116.46"  | lts- "-133"  | rts- "-175"  | lbs- "559"  | rbs- "-75"
[2022-04-25][12:03:32.799][DEBUG] [ "20220425_0951.ult" ] layer done
[2022-04-25][12:03:32.800][INFO] layer: 200 end
[2022-04-25][12:03:32.800][DEBUG] Start Image Process,Layer:  206
[2022-04-25][12:03:32.807][DEBUG] --------
```

![image-20220425191757855](E:\文档\GitHub\Notiz\倒杯口问题.assets\image-20220425191757855.png)

